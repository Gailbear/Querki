@(rc:RequestContext, users:Seq[querki.identity.User])

@import helper._
@import helper.twitterBootstrap._

@import querki.identity.User
@import querki.identity.UserLevel._

@pageTitle = @{
  "ADMIN: Manage Users"
}

@userDisplayClass(user:User) = @{
  if (user.isAdmin) {
    "info"
  } else if (user.level == PendingUser) {
    "warning"
  } else {
    ""
  }
}

@main(QuerkiTemplate.View, pageTitle, rc) {

  <div class="page-header">
	<h1 class="_defaultTitle">@pageTitle <a class="cancelButton btn" href="@routes.Application.index">Done</a></h1>
  </div>
  
  <div class="row">
    <table class="table table-hover">
      <thead>
        <td><b>Handle</b></td>
        <td><b>Email</b></td>
        <td><b>Level</b></td>
      </thead>
      <tbody>@for(user <- users){
        @defining(user.mainIdentity) { identity =>
          <tr class="@userDisplayClass(user)">
            <td>@identity.handle</td>
            <td>@identity.email</td>
            <td>@user.levelName</td>
          </tr>
        }
      }</tbody>
    </table>
  </div>
}
