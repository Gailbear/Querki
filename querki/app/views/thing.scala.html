@(rc:RequestContext)

@import play.api.Logger

@space = @{ rc.state.get }
@thing = @{
  rc.thing match {
    case Some(t) => t
    case None => space
  }
}

@main(QuerkiTemplate.Thing, thing.displayName, rc, true) {

    <script>
      $(document).ready(function() {
        $("p").on("dblclick", function() {
          window.location = "@routes.Application.editThing(rc.ownerName, space.toThingId, thing.toThingId)";
        });
      });
    </script>

    @if(!rc.chromeless) {
	<div class="page-header">
	  <h1>@thing.displayName</h1>
	</div>
	}
	
	<p id="thingContents">@Html(thing.render(rc).display)</p>
	
	@if(!rc.chromeless) {
	<a href="@routes.Application.editThing(rc.ownerName, space.toThingId, thing.toThingId)" class="btn">Edit</a>
	
	<hr/>
	
	<h3>Exported, looks like:</h3>
	
	<p>@thing.export(space)</p>
	
	@if(thing.kind == Kind.Attachment) {
	  <hr/>
	  
	  <a href="@routes.Application.attachment(rc.ownerName, space.toThingId, thing.toThingId)" class="btn">Get Attachment</a>
	}
	}
}
