@(rc:RequestContext)

@space = @{ rc.state.get }
@thing = @{ 
  rc.thing match {
    case Some(t) => t
    case None => space
  }
}

@main(QuerkiTemplate.Thing, thing.displayName, rc, true) {

    @if(!rc.chromeless) {
	<div class="page-header">
	  <h1>@thing.displayName</h1>
	</div>
	}
	
	<p>@Html(thing.render(space).display)</p>
	
	@if(!rc.chromeless) {
	<a href="@routes.Application.editThing(rc.ownerName, space.toThingId, thing.toThingId)" class="btn">Edit</a>
	
	<hr/>
	
	<h3>Exported, looks like:</h3>
	
	<p>@thing.export(space)</p>
	
	@if(thing.kind == Kind.Attachment) {
	  <hr/>
	  
	  <a href="@routes.Application.attachment(rc.ownerName, space.toThingId, thing.toThingId)" class="btn">Get Attachment</a>
	}
	}
}